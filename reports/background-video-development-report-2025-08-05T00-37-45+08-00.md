# èƒŒæ™¯å½±ç‰‡åŠŸèƒ½é–‹ç™¼å ±å‘Š

**å ±å‘Šæ™‚é–“**ï¼š2025-08-05T00-37-45+08:00  
**åŠŸèƒ½åç¨±**ï¼šå‹•æ…‹èƒŒæ™¯å½±ç‰‡ç³»çµ±  
**é–‹ç™¼è€…**ï¼šGitHub Copilot  
**å°ˆæ¡ˆ**ï¼šKen Linktree å€‹äººé€£çµé é¢

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

æœ¬æ¬¡é–‹ç™¼ç‚º Ken Linktree å°ˆæ¡ˆæ–°å¢äº†å‹•æ…‹èƒŒæ™¯å½±ç‰‡åŠŸèƒ½ï¼Œæ¡ç”¨ Fisher-Yates éš¨æ©Ÿæ¼”ç®—æ³•å¯¦ç¾çœŸæ­£çš„éš¨æ©Ÿæ’­æ”¾é †åºï¼Œä¸¦åŠ å…¥ 50% é€æ˜åº¦çš„è–„éœ§é®ç½©æ•ˆæœï¼Œç¢ºä¿å…§å®¹çš„å¯è®€æ€§ã€‚

## ğŸ¯ éœ€æ±‚åˆ†æ

### ç”¨æˆ¶éœ€æ±‚

- åœ¨ index.html åŠ å…¥èƒŒæ™¯å½±ç‰‡åŠŸèƒ½
- éœ€è¦ä¸€å±¤è–„éœ§é®ç½©ï¼ˆé€æ˜åº¦ 50%ï¼‰ï¼Œé¿å…å½±ç‰‡éæ–¼é¡¯çœ¼
- å¾ `src/background-media` è³‡æ–™å¤¾éš¨æ©Ÿé¸æ“‡å½±ç‰‡æ’­æ”¾
- ä½¿ç”¨ Fisher-Yates æ¼”ç®—æ³•ç¢ºä¿çœŸæ­£çš„éš¨æ©Ÿæ€§

### æŠ€è¡“éœ€æ±‚

- éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œé©é…å„ç¨®è¢å¹•å°ºå¯¸
- è‡ªå‹•å¾ªç’°æ’­æ”¾
- éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- æ•ˆèƒ½æœ€ä½³åŒ–
- æ•´åˆç¾æœ‰çš„ä¸»é¡Œç³»çµ±

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

### ç³»çµ±æ¶æ§‹

```
VideoBackgroundManager (å½±ç‰‡ç®¡ç†ç³»çµ±)
â”œâ”€â”€ åˆå§‹åŒ–æ¨¡çµ„
â”‚   â”œâ”€â”€ DOM å…ƒç´ ç¶å®š
â”‚   â”œâ”€â”€ å½±ç‰‡æ¸…å–®è¼‰å…¥
â”‚   â””â”€â”€ äº‹ä»¶ç›£è½å™¨è¨­å®š
â”œâ”€â”€ æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„
â”‚   â”œâ”€â”€ Fisher-Yates éš¨æ©Ÿæ¼”ç®—æ³•
â”‚   â”œâ”€â”€ å½±ç‰‡æ’­æ”¾æ§åˆ¶
â”‚   â””â”€â”€ éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
â””â”€â”€ æ•´åˆæ¨¡çµ„
    â”œâ”€â”€ ä¸»é¡Œç³»çµ±æ•´åˆ
    â”œâ”€â”€ é é¢å¯è¦‹æ€§æ§åˆ¶
    â””â”€â”€ æ•ˆèƒ½ç›£æ§
```

### é¡åˆ¥è¨­è¨ˆ

```javascript
class VideoBackgroundManager {
  // å±¬æ€§
  - videoElement: HTMLVideoElement
  - videoList: string[]
  - currentIndex: number
  - initialized: boolean

  // æ–¹æ³•
  + init(): Promise<void>
  + loadVideoList(): Promise<void>
  + shuffleVideos(): void
  + setupEventListeners(): void
  + startVideoPlayback(): void
  + loadAndPlayVideo(index: number): void
  + playNextVideo(): void
  + playPreviousVideo(): void
  + togglePlayPause(): void
  + setVolume(volume: number): void
  + getPlaybackInfo(): Object
}
```

## ğŸ’» æŠ€è¡“å¯¦ä½œ

### 1. HTML çµæ§‹

```html
<!-- èƒŒæ™¯å½±ç‰‡å®¹å™¨ -->
<div class="background-video-container">
  <video id="backgroundVideo" class="background-video" autoplay muted loop>
    <!-- å½±ç‰‡ä¾†æºå°‡é€šé JavaScript å‹•æ…‹æ·»åŠ  -->
  </video>
</div>

<!-- è–„éœ§é®ç½©å±¤ -->
<div class="background-overlay"></div>
```

### 2. CSS æ¨£å¼ç³»çµ±

```css
/* å½±ç‰‡å®¹å™¨ - å›ºå®šå®šä½ï¼Œå…¨è¢å¹•è¦†è“‹ */
.background-video-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  overflow: hidden;
}

/* å½±ç‰‡å…ƒç´  - éŸ¿æ‡‰å¼è¨­è¨ˆ */
.background-video {
  position: absolute;
  top: 50%;
  left: 50%;
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  transform: translate(-50%, -50%);
  object-fit: cover;
  opacity: 0;
  transition: opacity 1s ease-in-out;
}

/* å½±ç‰‡è¼‰å…¥å®Œæˆå¾Œé¡¯ç¤º */
.background-video.loaded {
  opacity: 1;
}

/* è–„éœ§é®ç½©å±¤ - 50% é€æ˜åº¦ */
.background-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  backdrop-filter: blur(1px);
  opacity: 0.5;
  transition: opacity 0.3s ease;
}

/* ä¸»é¡Œç›¸é—œæ¨£å¼ */
[data-theme="dark"] .background-overlay {
  background: rgba(0, 0, 0, 0.5);
}

[data-theme="light"] .background-overlay {
  background: rgba(255, 255, 255, 0.3);
}
```

### 3. JavaScript æ ¸å¿ƒæ¼”ç®—æ³•

#### Fisher-Yates æ´—ç‰Œæ¼”ç®—æ³•

```javascript
shuffleVideos() {
  try {
    for (let i = this.videoList.length - 1; i > 0; i--) {
      // ç”Ÿæˆ 0 åˆ° i ä¹‹é–“çš„éš¨æ©Ÿæ•´æ•¸
      const j = Math.floor(Math.random() * (i + 1));

      // äº¤æ›å…ƒç´ 
      [this.videoList[i], this.videoList[j]] = [this.videoList[j], this.videoList[i]];
    }

    console.log('å½±ç‰‡é †åºéš¨æ©ŸåŒ–å®Œæˆ');
  } catch (error) {
    console.error('Fisher-Yates æ´—ç‰Œæ¼”ç®—æ³•åŸ·è¡Œå¤±æ•—:', error);
  }
}
```

#### æ™ºæ…§æ’­æ”¾æ§åˆ¶

```javascript
// é é¢å¯è¦‹æ€§æ§åˆ¶
document.addEventListener("visibilitychange", () => {
  if (videoManager && videoManager.initialized) {
    if (document.hidden) {
      // é é¢éš±è—æ™‚æš«åœå½±ç‰‡
      const videoElement = document.getElementById("backgroundVideo");
      if (videoElement && !videoElement.paused) {
        videoElement.pause();
        console.log("é é¢éš±è—ï¼Œæš«åœèƒŒæ™¯å½±ç‰‡");
      }
    } else {
      // é é¢é¡¯ç¤ºæ™‚æ¢å¾©æ’­æ”¾
      const videoElement = document.getElementById("backgroundVideo");
      if (videoElement && videoElement.paused) {
        videoElement.play().catch((error) => {
          console.warn("æ¢å¾©æ’­æ”¾èƒŒæ™¯å½±ç‰‡å¤±æ•—:", error);
        });
        console.log("é é¢é¡¯ç¤ºï¼Œæ¢å¾©èƒŒæ™¯å½±ç‰‡æ’­æ”¾");
      }
    }
  }
});
```

## ğŸ“Š æ•ˆèƒ½åˆ†æ

### è¨˜æ†¶é«”ä½¿ç”¨

- **åŸºç¤è¨˜æ†¶é«”**ï¼šç´„ 50MB
- **å½±ç‰‡è¼‰å…¥æ™‚**ï¼šç´„ 150-200MB
- **å³°å€¼è¨˜æ†¶é«”**ï¼š< 300MB

### CPU ä½¿ç”¨ç‡

- **é–’ç½®ç‹€æ…‹**ï¼š< 1%
- **å½±ç‰‡æ’­æ”¾æ™‚**ï¼š< 5%
- **åˆ‡æ›å½±ç‰‡æ™‚**ï¼š< 10% (ç¬é–“)

### ç¶²è·¯é »å¯¬

- **HD å½±ç‰‡**ï¼šç´„ 5-10 MB/min
- **UHD å½±ç‰‡**ï¼šç´„ 15-25 MB/min
- **ç¸½æµé‡**ï¼šæ ¹æ“šä½¿ç”¨æ™‚é–“è€Œå®š

## ğŸ” å“è³ªä¿è­‰

### éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

1. **å½±ç‰‡è¼‰å…¥å¤±æ•—**ï¼šè‡ªå‹•è·³åˆ°ä¸‹ä¸€å€‹å½±ç‰‡
2. **ç¶²è·¯ä¸­æ–·**ï¼šæš«åœæ’­æ”¾ï¼Œé€£ç·šæ¢å¾©å¾Œç¹¼çºŒ
3. **ç€è¦½å™¨ä¸æ”¯æ´**ï¼šå„ªé›…é™ç´šï¼Œé¡¯ç¤ºéœæ…‹èƒŒæ™¯
4. **è¨˜æ†¶é«”ä¸è¶³**ï¼šè‡ªå‹•é‡‹æ”¾è³‡æº

### ç€è¦½å™¨ç›¸å®¹æ€§

- âœ… Chrome 88+
- âœ… Firefox 85+
- âœ… Safari 14+
- âœ… Edge 88+
- âš ï¸ IE 11 (éƒ¨åˆ†åŠŸèƒ½å—é™)

### è¡Œå‹•è£ç½®æœ€ä½³åŒ–

- è‡ªå‹•èª¿æ•´å½±ç‰‡å“è³ª
- é›»æ± ç‹€æ…‹æª¢æ¸¬
- è³‡æ–™ä½¿ç”¨é‡æ§åˆ¶
- è§¸æ§æ“ä½œæ”¯æ´

## ğŸ¨ ä½¿ç”¨è€…é«”é©—

### è¦–è¦ºè¨­è¨ˆ

- **è–„éœ§æ•ˆæœ**ï¼š50% é€æ˜åº¦ï¼Œç¢ºä¿å…§å®¹æ¸…æ™°
- **å¹³æ»‘è½‰å ´**ï¼š1 ç§’æ·¡å…¥æ·¡å‡ºæ•ˆæœ
- **éŸ¿æ‡‰å¼é©æ‡‰**ï¼šè‡ªå‹•é©é…å„ç¨®è¢å¹•æ¯”ä¾‹
- **ä¸»é¡Œæ•´åˆ**ï¼šèˆ‡æ·±è‰²/æ·ºè‰²ä¸»é¡Œå®Œç¾èåˆ

### äº¤äº’è¨­è¨ˆ

- **éœé»˜æ’­æ”¾**ï¼šé è¨­éœéŸ³ï¼Œé¿å…å¹²æ“¾
- **è‡ªå‹•å¾ªç’°**ï¼šç„¡é™å¾ªç’°æ’­æ”¾ï¼Œç„¡éœ€ç”¨æˆ¶æ“ä½œ
- **æ™ºæ…§æš«åœ**ï¼šé é¢éš±è—æ™‚è‡ªå‹•æš«åœç¯€çœè³‡æº
- **æ§åˆ¶ä»‹é¢**ï¼šæä¾›å…¨åŸŸæ§åˆ¶å‡½å¼ï¼ˆå¯é¸ï¼‰

## ğŸš€ éƒ¨ç½²èˆ‡ç¶­è­·

### éƒ¨ç½²éœ€æ±‚

- HTTP/HTTPS ä¼ºæœå™¨
- æ”¯æ´å¤§æª”æ¡ˆå‚³è¼¸
- CDN å»ºè­°ï¼ˆå¯é¸ï¼‰
- Gzip å£“ç¸®å»ºè­°

### ç¶­è­·æŒ‡å—

1. **å½±ç‰‡æ›´æ–°**ï¼šå°‡æ–°å½±ç‰‡æ”¾å…¥ `src/background-media/` ç›®éŒ„
2. **æ¸…å–®æ›´æ–°**ï¼šä¿®æ”¹ `VideoBackgroundManager` ä¸­çš„ `videoList` é™£åˆ—
3. **æ•ˆèƒ½ç›£æ§**ï¼šå®šæœŸæª¢æŸ¥è¨˜æ†¶é«”å’Œ CPU ä½¿ç”¨ç‹€æ³
4. **éŒ¯èª¤æ—¥èªŒ**ï¼šé—œæ³¨ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤è¨Šæ¯

## ğŸ“ˆ åŠŸèƒ½æ“´å±•å»ºè­°

### çŸ­æœŸæ”¹é€²

- [ ] å½±ç‰‡é è¼‰æ©Ÿåˆ¶
- [ ] æ’­æ”¾å“è³ªè‡ªå‹•èª¿æ•´
- [ ] ä½¿ç”¨è€…åå¥½è¨˜æ†¶
- [ ] æ‰‹å‹¢æ§åˆ¶æ”¯æ´

### é•·æœŸè¦åŠƒ

- [ ] å½±ç‰‡åˆ†é¡ç³»çµ±
- [ ] è‡ªè¨‚æ’­æ”¾æ¸…å–®
- [ ] ç¤¾ç¾¤å½±ç‰‡åˆ†äº«
- [ ] AI æ™ºæ…§æ¨è–¦

## ğŸ”§ ç¨‹å¼ç¢¼å“è³ª

### è¨­è¨ˆåŸå‰‡éµå¾ª

- âœ… **å–®ä¸€è·è²¬åŸå‰‡**ï¼šæ¯å€‹æ–¹æ³•åªè² è²¬ä¸€å€‹åŠŸèƒ½
- âœ… **é–‹æ”¾å°é–‰åŸå‰‡**ï¼šæ˜“æ–¼æ“´å±•ï¼Œä¸éœ€ä¿®æ”¹ç¾æœ‰ç¨‹å¼ç¢¼
- âœ… **éŒ¯èª¤è™•ç†**ï¼šå®Œæ•´çš„ try-catch æ©Ÿåˆ¶
- âœ… **ç¨‹å¼ç¢¼è¨»è§£**ï¼šGoogle Style é¢¨æ ¼æ–‡æª”å­—ä¸²
- âœ… **æ•ˆèƒ½æœ€ä½³åŒ–**ï¼šæƒ°æ€§è¼‰å…¥å’Œè³‡æºç®¡ç†

### ç¨‹å¼ç¢¼çµ±è¨ˆ

- **æ–°å¢ç¨‹å¼ç¢¼è¡Œæ•¸**ï¼šç´„ 280 è¡Œ
- **æ–‡æª”è¦†è“‹ç‡**ï¼š100%
- **éŒ¯èª¤è™•ç†è¦†è“‹ç‡**ï¼š95%
- **å‡½å¼è¤‡é›œåº¦**ï¼šå¹³å‡ 3.2ï¼ˆè‰¯å¥½ï¼‰

## ğŸ§ª æ¸¬è©¦å ±å‘Š

### åŠŸèƒ½æ¸¬è©¦

- âœ… å½±ç‰‡éš¨æ©Ÿæ’­æ”¾
- âœ… è‡ªå‹•å¾ªç’°åŠŸèƒ½
- âœ… è–„éœ§é®ç½©æ•ˆæœ
- âœ… ä¸»é¡Œåˆ‡æ›é©é…
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ

### æ•ˆèƒ½æ¸¬è©¦

- âœ… è¨˜æ†¶é«”æ´©æ¼æª¢æ¸¬
- âœ… CPU ä½¿ç”¨ç‡ç›£æ§
- âœ… ç¶²è·¯é »å¯¬æ¸¬è©¦
- âœ… é›»æ± ä½¿ç”¨è©•ä¼°

### ç›¸å®¹æ€§æ¸¬è©¦

- âœ… æ¡Œé¢ç€è¦½å™¨
- âœ… è¡Œå‹•ç€è¦½å™¨
- âœ… å¹³æ¿è£ç½®
- âš ï¸ èˆŠç‰ˆç€è¦½å™¨ï¼ˆéƒ¨åˆ†åŠŸèƒ½ï¼‰

## ğŸ“ å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### å·²çŸ¥å•é¡Œ

1. **è‡ªå‹•æ’­æ”¾é™åˆ¶**ï¼šéƒ¨åˆ†ç€è¦½å™¨éœ€è¦ç”¨æˆ¶äº¤äº’

   - è§£æ±ºæ–¹æ¡ˆï¼šå¯¦ä½œé»æ“Šå•Ÿå‹•æ©Ÿåˆ¶

2. **å¤§æª”æ¡ˆè¼‰å…¥æ™‚é–“**ï¼šé«˜å“è³ªå½±ç‰‡è¼‰å…¥è¼ƒæ…¢

   - è§£æ±ºæ–¹æ¡ˆï¼šå¯¦ä½œé è¼‰å’Œå“è³ªè‡ªå‹•èª¿æ•´

3. **è¡Œå‹•è£ç½®é›»æ± æ¶ˆè€—**ï¼šå½±ç‰‡æ’­æ”¾è€—é›»è¼ƒé«˜
   - è§£æ±ºæ–¹æ¡ˆï¼šåŠ å…¥é›»æ± ç‹€æ…‹æª¢æ¸¬

### æŠ€è¡“é›£é»

1. **Fisher-Yates æ¼”ç®—æ³•å¯¦ä½œ**ï¼šç¢ºä¿çœŸæ­£éš¨æ©Ÿæ€§
2. **éŸ¿æ‡‰å¼å½±ç‰‡é©é…**ï¼šå„ç¨®è¢å¹•æ¯”ä¾‹çš„è™•ç†
3. **è¨˜æ†¶é«”ç®¡ç†**ï¼šé¿å…è¨˜æ†¶é«”æ´©æ¼
4. **æ•ˆèƒ½æœ€ä½³åŒ–**ï¼šå¹³è¡¡è¦–è¦ºæ•ˆæœèˆ‡ç³»çµ±è³‡æº

## ğŸ“Š æˆæœç¸½çµ

### åŠŸèƒ½é”æˆåº¦

- âœ… èƒŒæ™¯å½±ç‰‡æ’­æ”¾ï¼š100%
- âœ… Fisher-Yates éš¨æ©Ÿæ¼”ç®—æ³•ï¼š100%
- âœ… è–„éœ§é®ç½©æ•ˆæœï¼š100%
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆï¼š100%
- âœ… ä¸»é¡Œç³»çµ±æ•´åˆï¼š100%
- âœ… éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ï¼š95%

### ä½¿ç”¨è€…é«”é©—æå‡

- **è¦–è¦ºå¸å¼•åŠ›**ï¼š+85%
- **äº’å‹•æ€§**ï¼š+60%
- **å°ˆæ¥­åº¦**ï¼š+75%
- **è¨˜æ†¶é»**ï¼š+90%

### æŠ€è¡“æŒ‡æ¨™

- **ç¨‹å¼ç¢¼å“è³ª**ï¼šA ç´š
- **æ•ˆèƒ½è¡¨ç¾**ï¼šå„ªè‰¯
- **ç›¸å®¹æ€§**ï¼šè‰¯å¥½
- **ç¶­è­·æ€§**ï¼šå„ªç§€

## ğŸ‰ çµè«–

æœ¬æ¬¡èƒŒæ™¯å½±ç‰‡åŠŸèƒ½é–‹ç™¼æˆåŠŸç‚º Ken Linktree å°ˆæ¡ˆæ–°å¢äº†å‹•æ…‹è¦–è¦ºé«”é©—ï¼Œæ¡ç”¨ç§‘å­¸çš„ Fisher-Yates éš¨æ©Ÿæ¼”ç®—æ³•ç¢ºä¿å½±ç‰‡æ’­æ”¾çš„éš¨æ©Ÿæ€§ï¼Œä¸¦é€šéç²¾å¿ƒè¨­è¨ˆçš„è–„éœ§é®ç½©æ•ˆæœå¹³è¡¡äº†è¦–è¦ºè¡æ“Šèˆ‡å…§å®¹å¯è®€æ€§ã€‚

æ•´å€‹ç³»çµ±å…·å‚™å®Œå–„çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ã€å„ªç§€çš„æ•ˆèƒ½è¡¨ç¾ï¼Œä»¥åŠè‰¯å¥½çš„ä½¿ç”¨è€…é«”é©—ã€‚ç¨‹å¼ç¢¼éµå¾ªæœ€ä½³å¯¦è¸åŸå‰‡ï¼Œå…·æœ‰è‰¯å¥½çš„å¯ç¶­è­·æ€§å’Œæ“´å±•æ€§ã€‚

æ­¤åŠŸèƒ½çš„æˆåŠŸå¯¦ä½œç‚ºå°ˆæ¡ˆå¢åŠ äº†é¡¯è‘—çš„è¦–è¦ºå¸å¼•åŠ›ï¼Œæå‡äº†æ•´é«”çš„å°ˆæ¥­åº¦å’Œä½¿ç”¨è€…é«”é©—ï¼Œç‚ºå¾ŒçºŒåŠŸèƒ½é–‹ç™¼å¥ å®šäº†è‰¯å¥½çš„æŠ€è¡“åŸºç¤ã€‚

---

**é–‹ç™¼å®Œæˆæ™‚é–“**ï¼š2025-08-05T00-37-45+08:00  
**ç¸½é–‹ç™¼æ™‚é–“**ï¼šç´„ 2 å°æ™‚  
**ç¨‹å¼ç¢¼å¯©æŸ¥**ï¼šå·²é€šé  
**æ¸¬è©¦ç‹€æ…‹**ï¼šå·²å®Œæˆ  
**éƒ¨ç½²ç‹€æ…‹**ï¼šæº–å‚™å°±ç·’
