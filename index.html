<!DOCTYPE html>
<html lang="zh-TW" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ken's Linktree</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.4.0/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <style>
      /* 主體樣式 - 完全透明讓影片顯示*/
      body {
        background: transparent;
        transition: all 0.3s ease-in-out;
        min-height: 100vh;
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        position: relative;
        overflow-x: hidden;
      }

      /* 背景影片容器 */
      .background-video-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -2;
        overflow: hidden;
        display: block !important;
        visibility: visible !important;
      }

      /* 背景影片樣式 - 移除轉場效果，立即顯示 */
      .background-video {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        transform: translateX(-50%) translateY(-50%);
        object-fit: cover;
        opacity: 1;
        display: block !important;
        visibility: visible !important;
      }

      /* 主容器樣式 - 完全居中設計 */
      .main-container {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 4rem 1rem 2rem;
        position: relative;
      }

      /* 頭像容器 - 完全仿照 Linktree */
      .avatar-container {
        margin-bottom: 1.5rem;
        position: relative;
      }

      .avatar-ring {
        width: 96px;
        height: 96px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        padding: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      }

      .avatar-image {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid white;
      }

      /* 個人名稱 - 完全仿照 Linktree */
      .profile-name {
        color: white;
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        text-align: center;
        text-shadow: 0 3px 6px rgba(0, 0, 0, 0.5), 0 1px 3px rgba(0, 0, 0, 0.3);
        letter-spacing: -0.025em;
      }

      .profile-bio {
        color: rgba(255, 255, 255, 0.95);
        font-size: 1rem;
        margin-bottom: 1.5rem;
        text-align: center;
        line-height: 1.4;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5), 0 1px 2px rgba(0, 0, 0, 0.3);
        max-width: 400px;
      }

      /* 社群顯示 */
      .social-icon {
        color: white;
        font-size: 1.75rem;
        transition: all 0.2s ease;
        display: inline-block;
        margin-bottom: 2rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      }

      .social-icon:hover {
        transform: scale(1.1);
        opacity: 0.8;
      }

      /* 連結按鈕樣式 - 質感透明版本 */
      .link-btn {
        width: 100%;
        max-width: 400px;
        height: 52px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        color: #1f2937;
        font-weight: 600;
        font-size: 1rem;
        margin-bottom: 1rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(20px);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(0, 0, 0, 0.05);
        position: relative;
        overflow: hidden;
      }

      .link-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        transition: left 0.6s ease;
      }

      .link-btn:hover {
        transform: translateY(-2px) scale(1.02);
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2), 0 4px 16px rgba(0, 0, 0, 0.1),
          0 0 0 1px rgba(255, 255, 255, 0.3);
        color: #1f2937;
      }

      .link-btn:hover::before {
        left: 100%;
      }

      .link-btn:active {
        transform: translateY(-1px) scale(1.01);
        transition: all 0.1s ease;
      }

      .link-btn i {
        margin-right: 0.75rem;
        font-size: 1.1rem;
      }

      /* 右上角控制按鈕*/
      .top-right-controls {
        position: fixed;
        top: 1.5rem;
        right: 1.5rem;
        z-index: 1000;
        display: flex;
        gap: 0.75rem;
        align-items: center;
      }

      /* 分享按鈕樣式 */
      .share-btn {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: white;
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      }

      .share-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.05) rotate(5deg);
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);
      }

      .share-btn:active {
        transform: scale(0.98);
        transition: all 0.1s ease;
      }

      /* 選單按鈕樣式更新 */
      .menu-btn {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: white;
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      }

      .menu-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.05) rotate(-5deg);
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);
      }

      .menu-btn:active {
        transform: scale(0.98);
        transition: all 0.1s ease;
      }

      /* 下拉選單樣式 - 現代設計*/
      .dropdown-menu {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(30px);
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        min-width: 220px;
        overflow: hidden;
        animation: fadeInScale 0.2s ease;
      }

      @keyframes fadeInScale {
        0% {
          opacity: 0;
          transform: scale(0.95) translateY(-10px);
        }
        100% {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }

      .dropdown-item {
        padding: 1rem 1.25rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        color: #1f2937;
        text-decoration: none;
        transition: all 0.2s ease;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        font-weight: 500;
      }

      .dropdown-item:hover {
        background: rgba(0, 0, 0, 0.05);
      }

      .dropdown-item:last-child {
        border-bottom: none;
      }

      .dropdown-item i {
        width: 18px;
        text-align: center;
      }

      /* 深色模式下的下拉選單 */
      [data-theme="dark"] .dropdown-menu {
        background: rgba(31, 41, 55, 0.95);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      [data-theme="dark"] .dropdown-item {
        color: white;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }

      [data-theme="dark"] .dropdown-item:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      /* 頁腳樣式 - 仿照 Linktree */
      .footer-container {
        margin-top: auto;
        padding-top: 3rem;
        text-align: center;
      }

      .footer-links {
        display: flex;
        gap: 1.5rem;
        margin-bottom: 1.5rem;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
      }

      .footer-link {
        color: rgba(255, 255, 255, 0.7);
        text-decoration: none;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .footer-link:hover {
        color: white;
      }

      .footer-separator {
        color: rgba(255, 255, 255, 0.3);
        font-size: 0.75rem;
      }

      .footer-brand {
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.875rem;
        margin-bottom: 0.75rem;
        font-weight: 500;
      }

      .footer-copyright {
        color: rgba(255, 255, 255, 0.4);
        font-size: 0.75rem;
        margin-bottom: 1rem;
      }

      /* Modal 樣式 - 現代設計*/
      .modal-backdrop {
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(12px);
      }

      .modal-box {
        background: white;
        border-radius: 24px;
        max-width: 420px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        border: none;
        padding: 2rem;
      }

      [data-theme="dark"] .modal-box {
        background: rgb(31, 41, 55);
        color: white;
      }
      .share-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1.25rem;
        margin: 2rem 0;
      }

      .share-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 0.5rem;
        border-radius: 12px;
      }

      .share-item:hover {
        transform: translateY(-2px);
        background: rgba(0, 0, 0, 0.05);
      }

      [data-theme="dark"] .share-item:hover {
        background: rgba(255, 255, 255, 0.05);
      }

      .share-icon {
        width: 52px;
        height: 52px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .share-label {
        font-size: 0.75rem;
        text-align: center;
        color: #4b5563;
        font-weight: 500;
      }

      [data-theme="dark"] .share-label {
        color: #d1d5db;
      }

      /* 隨機樣式系統 - 60 種色彩變化*/
      .style-pure-red {
        background: rgba(239, 68, 68, 0.9) !important;
        color: white !important;
      }
      .style-pure-pink {
        background: rgba(236, 72, 153, 0.9) !important;
        color: white !important;
      }
      .style-pure-purple {
        background: rgba(147, 51, 234, 0.9) !important;
        color: white !important;
      }
      .style-pure-indigo {
        background: rgba(99, 102, 241, 0.9) !important;
        color: white !important;
      }
      .style-pure-blue {
        background: rgba(59, 130, 246, 0.9) !important;
        color: white !important;
      }
      .style-pure-cyan {
        background: rgba(6, 182, 212, 0.9) !important;
        color: white !important;
      }
      .style-pure-teal {
        background: rgba(20, 184, 166, 0.9) !important;
        color: white !important;
      }
      .style-pure-green {
        background: rgba(34, 197, 94, 0.9) !important;
        color: white !important;
      }
      .style-pure-lime {
        background: rgba(132, 204, 22, 0.9) !important;
        color: white !important;
      }
      .style-pure-yellow {
        background: rgba(234, 179, 8, 0.9) !important;
        color: white !important;
      }
      .style-pure-orange {
        background: rgba(249, 115, 22, 0.9) !important;
        color: white !important;
      }
      .style-pure-amber {
        background: rgba(245, 158, 11, 0.9) !important;
        color: white !important;
      }
      .style-pure-rose {
        background: rgba(244, 63, 94, 0.9) !important;
        color: white !important;
      }
      .style-pure-violet {
        background: rgba(139, 92, 246, 0.9) !important;
        color: white !important;
      }
      .style-pure-sky {
        background: rgba(14, 165, 233, 0.9) !important;
        color: white !important;
      }
      .style-pure-emerald {
        background: rgba(16, 185, 129, 0.9) !important;
        color: white !important;
      }
      .style-pure-slate {
        background: rgba(100, 116, 139, 0.9) !important;
        color: white !important;
      }
      .style-pure-gray {
        background: rgba(107, 114, 128, 0.9) !important;
        color: white !important;
      }
      .style-pure-zinc {
        background: rgba(113, 113, 122, 0.9) !important;
        color: white !important;
      }
      .style-pure-neutral {
        background: rgba(115, 115, 115, 0.9) !important;
        color: white !important;
      }
      .style-pure-stone {
        background: rgba(120, 113, 108, 0.9) !important;
        color: white !important;
      }
      .style-pure-warmgray {
        background: rgba(168, 162, 158, 0.9) !important;
        color: white !important;
      }
      .style-pure-coolgray {
        background: rgba(156, 163, 175, 0.9) !important;
        color: white !important;
      }
      .style-pure-bluegray {
        background: rgba(148, 163, 184, 0.9) !important;
        color: white !important;
      }
      .style-pure-fuchsia {
        background: rgba(217, 70, 219, 0.9) !important;
        color: white !important;
      }
      .style-pure-gold {
        background: rgba(255, 215, 0, 0.9) !important;
        color: black !important;
      }
      .style-pure-silver {
        background: rgba(192, 192, 192, 0.9) !important;
        color: black !important;
      }
      .style-pure-bronze {
        background: rgba(205, 127, 50, 0.9) !important;
        color: white !important;
      }
      .style-pure-coral {
        background: rgba(255, 127, 80, 0.9) !important;
        color: white !important;
      }
      .style-pure-turquoise {
        background: rgba(64, 224, 208, 0.9) !important;
        color: black !important;
      }

      /* 混色及特效樣式*/
      .style-gradient-sunset {
        background: linear-gradient(135deg, #ff6b6b, #ffa500) !important;
        color: white !important;
      }
      .style-gradient-ocean {
        background: linear-gradient(135deg, #667eea, #764ba2) !important;
        color: white !important;
      }
      .style-gradient-forest {
        background: linear-gradient(135deg, #11998e, #38ef7d) !important;
        color: white !important;
      }
      .style-gradient-fire {
        background: linear-gradient(135deg, #fc466b, #3f5efb) !important;
        color: white !important;
      }
      .style-gradient-royal {
        background: linear-gradient(135deg, #667eea, #764ba2) !important;
        color: white !important;
      }
      .style-gradient-aurora {
        background: linear-gradient(135deg, #a8edea, #fed6e3) !important;
        color: black !important;
      }
      .style-gradient-cosmic {
        background: linear-gradient(135deg, #ff9a9e, #fecfef) !important;
        color: black !important;
      }
      .style-gradient-neon {
        background: linear-gradient(
          135deg,
          #12c2e9,
          #c471ed,
          #f64f59
        ) !important;
        color: white !important;
      }
      .style-gradient-rainbow {
        background: linear-gradient(135deg, #ff0844, #ffb199) !important;
        color: white !important;
      }
      .style-gradient-dream {
        background: linear-gradient(135deg, #ffecd2, #fcb69f) !important;
        color: black !important;
      }

      .style-breathe-red {
        background: rgba(239, 68, 68, 0.9) !important;
        color: white !important;
        animation: breathe-red 3s ease-in-out infinite !important;
      }
      .style-breathe-blue {
        background: rgba(59, 130, 246, 0.9) !important;
        color: white !important;
        animation: breathe-blue 3s ease-in-out infinite !important;
      }
      .style-breathe-green {
        background: rgba(34, 197, 94, 0.9) !important;
        color: white !important;
        animation: breathe-green 3s ease-in-out infinite !important;
      }
      .style-breathe-purple {
        background: rgba(147, 51, 234, 0.9) !important;
        color: white !important;
        animation: breathe-purple 3s ease-in-out infinite !important;
      }
      .style-breathe-pink {
        background: rgba(236, 72, 153, 0.9) !important;
        color: white !important;
        animation: breathe-pink 3s ease-in-out infinite !important;
      }

      .style-glow-cyan {
        background: rgba(6, 182, 212, 0.9) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(6, 182, 212, 0.6) !important;
        animation: glow-cyan 2s ease-in-out infinite alternate !important;
      }
      .style-glow-yellow {
        background: rgba(234, 179, 8, 0.9) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(234, 179, 8, 0.6) !important;
        animation: glow-yellow 2s ease-in-out infinite alternate !important;
      }
      .style-glow-orange {
        background: rgba(249, 115, 22, 0.9) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(249, 115, 22, 0.6) !important;
        animation: glow-orange 2s ease-in-out infinite alternate !important;
      }
      .style-glow-violet {
        background: rgba(139, 92, 246, 0.9) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(139, 92, 246, 0.6) !important;
        animation: glow-violet 2s ease-in-out infinite alternate !important;
      }
      .style-glow-emerald {
        background: rgba(16, 185, 129, 0.9) !important;
        color: white !important;
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.6) !important;
        animation: glow-emerald 2s ease-in-out infinite alternate !important;
      }

      .style-flash-rainbow {
        background: rgba(255, 255, 255, 0.9) !important;
        animation: flash-rainbow 1.5s linear infinite !important;
      }
      .style-flash-neon {
        background: rgba(255, 255, 255, 0.9) !important;
        animation: flash-neon 1s linear infinite !important;
      }
      .style-flash-disco {
        background: rgba(255, 255, 255, 0.9) !important;
        animation: flash-disco 0.8s linear infinite !important;
      }
      .style-flash-strobe {
        background: rgba(255, 255, 255, 0.9) !important;
        animation: flash-strobe 0.5s linear infinite !important;
      }
      .style-flash-pulse {
        background: rgba(255, 255, 255, 0.9) !important;
        animation: flash-pulse 2s ease-in-out infinite !important;
      }

      .style-wave-ocean {
        background: linear-gradient(135deg, #667eea, #764ba2) !important;
        color: white !important;
        animation: wave-effect 4s ease-in-out infinite !important;
      }
      .style-wave-fire {
        background: linear-gradient(135deg, #fc466b, #3f5efb) !important;
        color: white !important;
        animation: wave-effect 3s ease-in-out infinite !important;
      }
      .style-wave-aurora {
        background: linear-gradient(135deg, #a8edea, #fed6e3) !important;
        color: black !important;
        animation: wave-effect 5s ease-in-out infinite !important;
      }
      .style-wave-cosmic {
        background: linear-gradient(135deg, #ff9a9e, #fecfef) !important;
        color: black !important;
        animation: wave-effect 3.5s ease-in-out infinite !important;
      }
      .style-wave-dream {
        background: linear-gradient(135deg, #ffecd2, #fcb69f) !important;
        color: black !important;
        animation: wave-effect 4.5s ease-in-out infinite !important;
      }

      /* 動畫關鍵幀定義 */
      @keyframes breathe-red {
        0%,
        100% {
          background: rgba(239, 68, 68, 0.9);
          box-shadow: 0 0 10px rgba(239, 68, 68, 0.3);
        }
        50% {
          background: rgba(239, 68, 68, 0.7);
          box-shadow: 0 0 25px rgba(239, 68, 68, 0.6);
        }
      }

      @keyframes breathe-blue {
        0%,
        100% {
          background: rgba(59, 130, 246, 0.9);
          box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }
        50% {
          background: rgba(59, 130, 246, 0.7);
          box-shadow: 0 0 25px rgba(59, 130, 246, 0.6);
        }
      }

      @keyframes breathe-green {
        0%,
        100% {
          background: rgba(34, 197, 94, 0.9);
          box-shadow: 0 0 10px rgba(34, 197, 94, 0.3);
        }
        50% {
          background: rgba(34, 197, 94, 0.7);
          box-shadow: 0 0 25px rgba(34, 197, 94, 0.6);
        }
      }

      @keyframes breathe-purple {
        0%,
        100% {
          background: rgba(147, 51, 234, 0.9);
          box-shadow: 0 0 10px rgba(147, 51, 234, 0.3);
        }
        50% {
          background: rgba(147, 51, 234, 0.7);
          box-shadow: 0 0 25px rgba(147, 51, 234, 0.6);
        }
      }

      @keyframes breathe-pink {
        0%,
        100% {
          background: rgba(236, 72, 153, 0.9);
          box-shadow: 0 0 10px rgba(236, 72, 153, 0.3);
        }
        50% {
          background: rgba(236, 72, 153, 0.7);
          box-shadow: 0 0 25px rgba(236, 72, 153, 0.6);
        }
      }

      @keyframes glow-cyan {
        0% {
          box-shadow: 0 0 20px rgba(6, 182, 212, 0.6),
            0 0 40px rgba(6, 182, 212, 0.3);
        }
        100% {
          box-shadow: 0 0 30px rgba(6, 182, 212, 0.8),
            0 0 60px rgba(6, 182, 212, 0.4);
        }
      }

      @keyframes glow-yellow {
        0% {
          box-shadow: 0 0 20px rgba(234, 179, 8, 0.6),
            0 0 40px rgba(234, 179, 8, 0.3);
        }
        100% {
          box-shadow: 0 0 30px rgba(234, 179, 8, 0.8),
            0 0 60px rgba(234, 179, 8, 0.4);
        }
      }

      @keyframes glow-orange {
        0% {
          box-shadow: 0 0 20px rgba(249, 115, 22, 0.6),
            0 0 40px rgba(249, 115, 22, 0.3);
        }
        100% {
          box-shadow: 0 0 30px rgba(249, 115, 22, 0.8),
            0 0 60px rgba(249, 115, 22, 0.4);
        }
      }

      @keyframes glow-violet {
        0% {
          box-shadow: 0 0 20px rgba(139, 92, 246, 0.6),
            0 0 40px rgba(139, 92, 246, 0.3);
        }
        100% {
          box-shadow: 0 0 30px rgba(139, 92, 246, 0.8),
            0 0 60px rgba(139, 92, 246, 0.4);
        }
      }

      @keyframes glow-emerald {
        0% {
          box-shadow: 0 0 20px rgba(16, 185, 129, 0.6),
            0 0 40px rgba(16, 185, 129, 0.3);
        }
        100% {
          box-shadow: 0 0 30px rgba(16, 185, 129, 0.8),
            0 0 60px rgba(16, 185, 129, 0.4);
        }
      }

      @keyframes flash-rainbow {
        0% {
          background: rgba(255, 0, 0, 0.9);
          color: white;
        }
        16% {
          background: rgba(255, 165, 0, 0.9);
          color: white;
        }
        33% {
          background: rgba(255, 255, 0, 0.9);
          color: black;
        }
        50% {
          background: rgba(0, 255, 0, 0.9);
          color: black;
        }
        66% {
          background: rgba(0, 0, 255, 0.9);
          color: white;
        }
        83% {
          background: rgba(75, 0, 130, 0.9);
          color: white;
        }
        100% {
          background: rgba(238, 130, 238, 0.9);
          color: white;
        }
      }

      @keyframes flash-neon {
        0%,
        100% {
          background: rgba(0, 255, 255, 0.9);
          color: black;
          box-shadow: 0 0 20px cyan;
        }
        25% {
          background: rgba(255, 20, 147, 0.9);
          color: white;
          box-shadow: 0 0 20px deeppink;
        }
        50% {
          background: rgba(50, 205, 50, 0.9);
          color: black;
          box-shadow: 0 0 20px lime;
        }
        75% {
          background: rgba(255, 165, 0, 0.9);
          color: black;
          box-shadow: 0 0 20px orange;
        }
      }

      @keyframes flash-disco {
        0% {
          background: rgba(255, 0, 255, 0.9);
          color: white;
          transform: scale(1);
        }
        25% {
          background: rgba(0, 255, 255, 0.9);
          color: black;
          transform: scale(1.05);
        }
        50% {
          background: rgba(255, 255, 0, 0.9);
          color: black;
          transform: scale(1);
        }
        75% {
          background: rgba(255, 0, 0, 0.9);
          color: white;
          transform: scale(1.05);
        }
        100% {
          background: rgba(255, 0, 255, 0.9);
          color: white;
          transform: scale(1);
        }
      }

      @keyframes flash-strobe {
        0%,
        50% {
          background: rgba(255, 255, 255, 0.9);
          color: black;
        }
        51%,
        100% {
          background: rgba(0, 0, 0, 0.9);
          color: white;
        }
      }

      @keyframes flash-pulse {
        0%,
        100% {
          background: rgba(138, 43, 226, 0.9);
          color: white;
          transform: scale(1);
        }
        50% {
          background: rgba(255, 20, 147, 0.9);
          color: white;
          transform: scale(1.03);
        }
      }

      @keyframes wave-effect {
        0%,
        100% {
          transform: translateX(0) scale(1);
        }
        25% {
          transform: translateX(2px) scale(1.02);
        }
        50% {
          transform: translateX(-2px) scale(0.98);
        }
        75% {
          transform: translateX(1px) scale(1.01);
        }
      }

      /* 隨機樣式覆蓋 */
      .random-style-active .profile-name,
      .random-style-active .profile-bio,
      .random-style-active .social-icon,
      .random-style-active .footer-link,
      .random-style-active .footer-brand,
      .random-style-active .footer-copyright {
        text-shadow: 0 0 10px currentColor, 0 0 20px currentColor,
          0 0 30px currentColor !important;
      }

      /* 瘋狂動畫模式 - 隨機位置偏移效果*/
      .crazy-animation {
        position: relative !important;
        z-index: 10 !important;
      }

      /* 隨機眩光效果 */
      .glow-random-1 {
        box-shadow: 0 0 20px #ff0080, 0 0 40px #ff0080, 0 0 60px #ff0080 !important;
        animation: random-glow-1 1.5s ease-in-out infinite alternate !important;
      }

      .glow-random-2 {
        box-shadow: 0 0 20px #00ff80, 0 0 40px #00ff80, 0 0 60px #00ff80 !important;
        animation: random-glow-2 1.2s ease-in-out infinite alternate !important;
      }

      .glow-random-3 {
        box-shadow: 0 0 20px #8000ff, 0 0 40px #8000ff, 0 0 60px #8000ff !important;
        animation: random-glow-3 1.8s ease-in-out infinite alternate !important;
      }

      .glow-random-4 {
        box-shadow: 0 0 20px #ff8000, 0 0 40px #ff8000, 0 0 60px #ff8000 !important;
        animation: random-glow-4 1.3s ease-in-out infinite alternate !important;
      }

      .glow-random-5 {
        box-shadow: 0 0 20px #0080ff, 0 0 40px #0080ff, 0 0 60px #0080ff !important;
        animation: random-glow-5 1.6s ease-in-out infinite alternate !important;
      }

      .glow-random-6 {
        box-shadow: 0 0 20px #ff4080, 0 0 40px #ff4080, 0 0 60px #ff4080 !important;
        animation: random-glow-6 1.4s ease-in-out infinite alternate !important;
      }

      .glow-random-7 {
        box-shadow: 0 0 20px #80ff40, 0 0 40px #80ff40, 0 0 60px #80ff40 !important;
        animation: random-glow-7 1.7s ease-in-out infinite alternate !important;
      }

      .glow-random-8 {
        box-shadow: 0 0 20px #4080ff, 0 0 40px #4080ff, 0 0 60px #4080ff !important;
        animation: random-glow-8 1.1s ease-in-out infinite alternate !important;
      }

      .glow-random-9 {
        box-shadow: 0 0 20px #ff8040, 0 0 40px #ff8040, 0 0 60px #ff8040 !important;
        animation: random-glow-9 1.9s ease-in-out infinite alternate !important;
      }

      .glow-random-10 {
        box-shadow: 0 0 20px #40ff80, 0 0 40px #40ff80, 0 0 60px #40ff80 !important;
        animation: random-glow-10 1.35s ease-in-out infinite alternate !important;
      }

      /* 隨機眩光動畫關鍵幀 */
      @keyframes random-glow-1 {
        0% {
          box-shadow: 0 0 20px #ff0080, 0 0 40px #ff0080;
          transform: scale(1);
        }
        100% {
          box-shadow: 0 0 40px #ff0080, 0 0 80px #ff0080, 0 0 120px #ff0080;
          transform: scale(1.05);
        }
      }

      @keyframes random-glow-2 {
        0% {
          box-shadow: 0 0 20px #00ff80, 0 0 40px #00ff80;
          transform: rotate(0deg);
        }
        100% {
          box-shadow: 0 0 40px #00ff80, 0 0 80px #00ff80, 0 0 120px #00ff80;
          transform: rotate(2deg);
        }
      }

      @keyframes random-glow-3 {
        0% {
          box-shadow: 0 0 20px #8000ff, 0 0 40px #8000ff;
          transform: translateY(0);
        }
        100% {
          box-shadow: 0 0 40px #8000ff, 0 0 80px #8000ff, 0 0 120px #8000ff;
          transform: translateY(-2px);
        }
      }

      @keyframes random-glow-4 {
        0% {
          box-shadow: 0 0 20px #ff8000, 0 0 40px #ff8000;
          transform: scale(1) rotate(0deg);
        }
        100% {
          box-shadow: 0 0 40px #ff8000, 0 0 80px #ff8000, 0 0 120px #ff8000;
          transform: scale(1.03) rotate(1deg);
        }
      }

      @keyframes random-glow-5 {
        0% {
          box-shadow: 0 0 20px #0080ff, 0 0 40px #0080ff;
          transform: translateX(0);
        }
        100% {
          box-shadow: 0 0 40px #0080ff, 0 0 80px #0080ff, 0 0 120px #0080ff;
          transform: translateX(1px);
        }
      }

      @keyframes random-glow-6 {
        0% {
          box-shadow: 0 0 20px #ff4080, 0 0 40px #ff4080;
        }
        50% {
          box-shadow: 0 0 60px #ff4080, 0 0 120px #ff4080;
          transform: scale(1.02);
        }
        100% {
          box-shadow: 0 0 40px #ff4080, 0 0 80px #ff4080;
        }
      }

      @keyframes random-glow-7 {
        0% {
          box-shadow: 0 0 20px #80ff40, 0 0 40px #80ff40;
          filter: hue-rotate(0deg);
        }
        100% {
          box-shadow: 0 0 40px #80ff40, 0 0 80px #80ff40, 0 0 120px #80ff40;
          filter: hue-rotate(30deg);
        }
      }

      @keyframes random-glow-8 {
        0% {
          box-shadow: 0 0 20px #4080ff, 0 0 40px #4080ff;
          transform: skew(0deg);
        }
        100% {
          box-shadow: 0 0 40px #4080ff, 0 0 80px #4080ff, 0 0 120px #4080ff;
          transform: skew(1deg);
        }
      }

      @keyframes random-glow-9 {
        0% {
          box-shadow: 0 0 20px #ff8040, 0 0 40px #ff8040;
          opacity: 0.9;
        }
        100% {
          box-shadow: 0 0 40px #ff8040, 0 0 80px #ff8040, 0 0 120px #ff8040;
          opacity: 1;
        }
      }

      @keyframes random-glow-10 {
        0% {
          box-shadow: 0 0 20px #40ff80, 0 0 40px #40ff80;
          transform: perspective(100px) rotateX(0deg);
        }
        100% {
          box-shadow: 0 0 40px #40ff80, 0 0 80px #40ff80, 0 0 120px #40ff80;
          transform: perspective(100px) rotateX(2deg);
        }
      }

      /* 響應式設計 - 全面適配版本 */
      /* 超小螢幕 (< 480px) */
      @media (max-width: 479px) {
        .main-container {
          padding: 2.5rem 1rem 1.5rem;
        }

        .profile-name {
          font-size: 1.5rem;
        }

        .profile-bio {
          font-size: 0.8rem;
          margin-bottom: 1rem;
          line-height: 1.3;
        }

        .link-btn {
          height: 46px;
          font-size: 0.9rem;
          margin-bottom: 0.75rem;
          border-radius: 14px;
        }

        .avatar-ring {
          width: 80px;
          height: 80px;
        }

        .top-right-controls {
          top: 1rem;
          right: 1rem;
          gap: 0.5rem;
        }

        .share-btn,
        .menu-btn {
          width: 38px;
          height: 38px;
        }

        .dropdown-menu {
          min-width: 180px;
          top: 3rem !important;
          right: 0.5rem !important;
        }

        .footer-links {
          gap: 1rem;
          flex-direction: column;
        }

        .footer-separator {
          display: none;
        }

        .share-grid {
          gap: 1rem;
        }
      }

      /* 小螢幕手機(480px - 640px) */
      @media (min-width: 480px) and (max-width: 640px) {
        .main-container {
          padding: 3rem 1.25rem 1.5rem;
        }

        .profile-name {
          font-size: 1.75rem;
        }

        .profile-bio {
          font-size: 0.875rem;
          margin-bottom: 1.25rem;
        }

        .link-btn {
          height: 48px;
          margin-bottom: 0.875rem;
          max-width: 100%;
        }

        .avatar-ring {
          width: 88px;
          height: 88px;
        }

        .top-right-controls {
          top: 1rem;
          right: 1rem;
        }

        .share-btn,
        .menu-btn {
          width: 40px;
          height: 40px;
        }

        .dropdown-menu {
          min-width: 200px;
          top: 3.5rem !important;
          right: 1rem !important;
        }

        .footer-links {
          gap: 1rem;
          flex-direction: column;
        }

        .footer-separator {
          display: none;
        }

        .share-grid {
          gap: 1rem;
        }
      }

      /* 大螢幕手機小平板(641px - 768px) */
      @media (min-width: 641px) and (max-width: 768px) {
        .main-container {
          padding: 3.5rem 2rem 2rem;
          max-width: 600px;
          margin: 0 auto;
        }

        .profile-name {
          font-size: 2.25rem;
        }

        .profile-bio {
          font-size: 1.1rem;
          margin-bottom: 1.75rem;
          max-width: 480px;
        }

        .link-btn {
          max-width: 480px;
          height: 56px;
          font-size: 1.05rem;
          margin-bottom: 1.125rem;
        }

        .avatar-ring {
          width: 104px;
          height: 104px;
        }

        .social-icon {
          font-size: 2rem;
          margin-bottom: 2.5rem;
        }
      }

      /* 平板電腦 (769px - 1024px) */
      @media (min-width: 769px) and (max-width: 1024px) {
        .main-container {
          padding: 4rem 3rem 2.5rem;
          max-width: 700px;
          margin: 0 auto;
        }

        .profile-name {
          font-size: 2.5rem;
          margin-bottom: 0.75rem;
        }

        .profile-bio {
          font-size: 1.2rem;
          margin-bottom: 2rem;
          max-width: 520px;
          line-height: 1.5;
        }

        .link-btn {
          max-width: 520px;
          height: 58px;
          font-size: 1.1rem;
          margin-bottom: 1.25rem;
          border-radius: 18px;
        }

        .avatar-ring {
          width: 112px;
          height: 112px;
        }

        .social-icon {
          font-size: 2.25rem;
          margin-bottom: 2.75rem;
        }
      }

      /* 桌面小螢幕(1025px - 1366px) */
      @media (min-width: 1025px) and (max-width: 1366px) {
        .main-container {
          padding: 4.5rem 2rem 3rem;
          max-width: 800px;
          margin: 0 auto;
        }

        .profile-name {
          font-size: 2.75rem;
        }

        .profile-bio {
          font-size: 1.25rem;
          margin-bottom: 2.25rem;
          max-width: 560px;
        }

        .link-btn {
          max-width: 560px;
          height: 60px;
          font-size: 1.15rem;
          margin-bottom: 1.5rem;
        }

        .avatar-ring {
          width: 120px;
          height: 120px;
        }
      }

      /* 大型機螢幕(> 1366px) */
      @media (min-width: 1367px) {
        .main-container {
          padding: 5rem 2rem 3rem;
          max-width: 900px;
          margin: 0 auto;
        }

        .profile-name {
          font-size: 3rem;
        }

        .profile-bio {
          font-size: 1.3rem;
          margin-bottom: 2.5rem;
          max-width: 600px;
        }

        .link-btn {
          max-width: 600px;
          height: 64px;
          font-size: 1.2rem;
          margin-bottom: 1.75rem;
        }

        .avatar-ring {
          width: 128px;
          height: 128px;
        }

        .social-icon {
          font-size: 2.5rem;
          margin-bottom: 3rem;
        }
      }

      /* 下雨動畫系統 */
      .rain-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1000;
        overflow: hidden;
      }

      .raindrop {
        position: absolute;
        width: 2px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.6) 0%,
          rgba(255, 255, 255, 0.1) 100%
        );
        animation: fall linear infinite;
        border-radius: 1px;
      }

      .rain-icon {
        position: absolute;
        font-size: 16px;
        color: rgba(255, 255, 255, 0.7);
        animation: fall linear infinite;
        text-shadow: 0 0 3px rgba(255, 255, 255, 0.3);
      }

      @keyframes fall {
        0% {
          transform: translateY(-100px);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh);
          opacity: 0;
        }
      }

      /* 下雨控制按鈕 */
      .rain-btn {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: white;
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        position: relative;
      }

      .rain-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.05);
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);
      }

      .rain-btn:active {
        transform: scale(0.98);
        transition: all 0.1s ease;
      }

      .rain-btn.active {
        background: rgba(74, 144, 226, 0.3);
        border-color: rgba(74, 144, 226, 0.5);
      }

      /* 下雨模式選擇器 */
      .rain-mode-selector {
        position: absolute;
        top: 50px;
        right: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 8px;
        min-width: 150px;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        z-index: 1001;
      }

      .rain-mode-selector.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .rain-mode-item {
        display: block;
        width: 100%;
        padding: 8px 12px;
        background: none;
        border: none;
        color: white;
        text-align: left;
        cursor: pointer;
        border-radius: 4px;
        font-size: 14px;
        transition: background 0.2s ease;
      }

      .rain-mode-item:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .rain-mode-item.active {
        background: rgba(74, 144, 226, 0.3);
      }
    </style>
  </head>
  <body>
    <!-- 背景影片容器 -->
    <div class="background-video-container">
      <video
        id="backgroundVideo"
        class="background-video"
        autoplay
        muted
        loop
        playsinline
        preload="auto"
        poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1' height='1'%3E%3C/svg%3E"
      >
        <source
          src="src/background-media/4108992-sd_540_676_30fps.mp4"
          type="video/mp4"
        />
        <!-- 備用影片來源 -->
        <source
          src="src/background-media/5178597-sd_320_568_24fps.mp4"
          type="video/mp4"
        />
        您的瀏覽器不支援 HTML5 影片播放。
      </video>
    </div>

    <!-- 右上角控制按鈕-->
    <div class="top-right-controls">
      <!-- 下雨按鈕 -->
      <div class="dropdown dropdown-end">
        <button
          class="rain-btn"
          onclick="toggleRainSelector()"
          title="下雨模式"
        >
          <i class="fas fa-cloud-rain"></i>
        </button>
        <div class="rain-mode-selector" id="rainModeSelector">
          <button
            class="rain-mode-item"
            onclick="setRainMode('off')"
            id="rain-off"
          >
            關閉下雨
          </button>
          <button
            class="rain-mode-item"
            onclick="setRainMode('normal')"
            id="rain-normal"
          >
            普通雨滴
          </button>
          <button
            class="rain-mode-item active"
            onclick="setRainMode('icons')"
            id="rain-icons"
          >
            隨機圖示雨
          </button>
        </div>
      </div>

      <!-- 分享按鈕 -->
      <button class="share-btn" onclick="showShareModal()" title="分享此頁面">
        <i class="fas fa-share-alt"></i>
      </button>

      <!-- 選單按鈕 -->
      <div class="dropdown dropdown-end">
        <div tabindex="0" role="button" class="menu-btn">
          <i class="fas fa-ellipsis-v"></i>
        </div>
        <ul tabindex="0" class="dropdown-content dropdown-menu">
          <li>
            <button class="dropdown-item" onclick="toggleRandomStyle()">
              <i class="fas fa-palette" id="styleIcon"></i>
              <span id="styleText">隨機樣式</span>
            </button>
          </li>
          <li>
            <button class="dropdown-item" onclick="toggleLanguage()">
              <i class="fas fa-globe"></i>
              <span id="langText">English</span>
            </button>
          </li>
          <li>
            <button class="dropdown-item" onclick="window.location.reload()">
              <i class="fas fa-sync-alt"></i>
              <span id="refreshText">重新載入</span>
            </button>
          </li>
        </ul>
      </div>
    </div>

    <!-- 主要內容 -->
    <div class="main-container">
      <!-- 頭像 -->
      <div class="avatar-container">
        <div class="avatar-ring">
          <img
            src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
            alt="Ken 的頭像"
            class="avatar-image"
          />
        </div>
      </div>

      <!-- 姓名及簡介-->
      <h1 class="profile-name" id="profileName">Ken</h1>
      <p class="profile-bio" id="profileBio">
        歡迎來到我的個人連結頁面！<br />
        在這裡可以找到我的所有社群媒體和重要連結。
      </p>

      <!-- 社群顯示 -->
      <a href="https://github.com" class="social-icon mb-6" target="_blank">
        <i class="fab fa-github"></i>
      </a>

      <!-- 連結按鈕 -->
      <div class="w-full max-w-md space-y-3">
        <a href="https://github.com" class="link-btn" target="_blank">
          <i class="fab fa-github"></i>
          <span id="githubText">GitHub</span>
        </a>

        <a href="https://linkedin.com" class="link-btn" target="_blank">
          <i class="fab fa-linkedin"></i>
          <span id="linkedinText">LinkedIn</span>
        </a>

        <a href="https://twitter.com" class="link-btn" target="_blank">
          <i class="fab fa-twitter"></i>
          <span id="twitterText">Twitter</span>
        </a>

        <a href="https://instagram.com" class="link-btn" target="_blank">
          <i class="fab fa-instagram"></i>
          <span id="instagramText">Instagram</span>
        </a>

        <a href="mailto:your.email@example.com" class="link-btn">
          <i class="fas fa-envelope"></i>
          <span id="emailText">電子信件</span>
        </a>

        <a href="https://your-website.com" class="link-btn" target="_blank">
          <i class="fas fa-globe"></i>
          <span id="websiteText">個人網站</span>
        </a>

        <a href="https://your-blog.com" class="link-btn" target="_blank">
          <i class="fas fa-blog"></i>
          <span id="blogText">部落格</span>
        </a>

        <a href="https://youtube.com" class="link-btn" target="_blank">
          <i class="fab fa-youtube"></i>
          <span id="youtubeText">YouTube</span>
        </a>
      </div>

      <!-- 頁腳 -->
      <div class="footer-container">
        <div class="footer-links">
          <a href="#" class="footer-link" id="privacyText">隱私政策</a>
          <span class="footer-separator">|</span>
          <a href="#" class="footer-link" id="termsText">使用條款</a>
          <span class="footer-separator">|</span>
          <a href="#" class="footer-link" id="cookiesText">Cookie 政策</a>
        </div>
        <div class="footer-brand" id="poweredText">Powered by Ken</div>
        <div class="footer-copyright" id="copyrightText">
          © 2024 Ken. 版權所有
        </div>
      </div>
    </div>

    <!-- 分享 Modal -->
    <dialog id="shareModal" class="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-box">
        <form method="dialog">
          <button
            class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
          >
            <i class="fas fa-times"></i>
          </button>
        </form>
        <h3 class="font-bold text-lg mb-4" id="shareModalTitle">分享此頁面</h3>
        <div class="share-grid">
          <div class="share-item" onclick="shareVia('facebook')">
            <div class="share-icon" style="background: #1877f2">
              <i class="fab fa-facebook-f"></i>
            </div>
            <span class="share-label">Facebook</span>
          </div>
          <div class="share-item" onclick="shareVia('twitter')">
            <div class="share-icon" style="background: #1da1f2">
              <i class="fab fa-twitter"></i>
            </div>
            <span class="share-label">Twitter</span>
          </div>
          <div class="share-item" onclick="shareVia('linkedin')">
            <div class="share-icon" style="background: #0077b5">
              <i class="fab fa-linkedin-in"></i>
            </div>
            <span class="share-label">LinkedIn</span>
          </div>
          <div class="share-item" onclick="shareVia('copy')">
            <div class="share-icon" style="background: #6b7280">
              <i class="fas fa-copy"></i>
            </div>
            <span class="share-label" id="copyLinkText">複製???</span>
          </div>
          <div class="share-item" onclick="shareVia('whatsapp')">
            <div class="share-icon" style="background: #25d366">
              <i class="fab fa-whatsapp"></i>
            </div>
            <span class="share-label">WhatsApp</span>
          </div>
          <div class="share-item" onclick="shareVia('telegram')">
            <div class="share-icon" style="background: #0088cc">
              <i class="fab fa-telegram-plane"></i>
            </div>
            <span class="share-label">Telegram</span>
          </div>
          <div class="share-item" onclick="shareVia('line')">
            <div class="share-icon" style="background: #00b900">
              <i class="fab fa-line"></i>
            </div>
            <span class="share-label">LINE</span>
          </div>
          <div class="share-item" onclick="shareVia('email')">
            <div class="share-icon" style="background: #ea4335">
              <i class="fas fa-envelope"></i>
            </div>
            <span class="share-label" id="emailShareText">電子信件</span>
          </div>
        </div>
      </div>
    </dialog>

    <!-- JavaScript -->
    <script>
      // 背景影片管理系統 - 使用 Fisher-Yates 洗牌演算法
      class VideoBackgroundManager {
        constructor() {
          this.videos = [
            "src/background-media/4108992-sd_540_676_30fps.mp4",
            "src/background-media/4157418-hd_720_1280_30fps.mp4",
            "src/background-media/5037449-hd_1080_1920_30fp.mp4",
            "src/background-media/5178597-sd_320_568_24fps.mp4",
            "src/background-media/5352609-hd_1080_1920_25fps.mp4",
            "src/background-media/5383507-hd_1080_1920_30fps.mp4",
            "src/background-media/5893890-hd_1080_1920_24fps.mp4",
            "src/background-media/5966737-hd_1080_1920_30fps.mp4",
            "src/background-media/5968890-uhd_2160_3840_30fps.mp4",
            "src/background-media/6040389-hd_1080_1920_30fps.mp4",
            "src/background-media/6148525-hd_1080_1920_30fps.mp4",
            "src/background-media/6336968-hd_1080_1920_30fps.mp4",
            "src/background-media/6520300-uhd_2160_3744_30fps.mp4",
            "src/background-media/6800632-hd_1080_1920_30fps.mp4",
            "src/background-media/6813908-uhd_2160_3744_30fps.mp4",
            "src/background-media/7318804-hd_1080_1920_30fps.mp4",
            "src/background-media/8025689-uhd_2160_3840_24fps.mp4",
            "src/background-media/8195676-uhd_2160_4096_30fps.mp4",
            "src/background-media/8233057-uhd_2160_4096_25fps.mp4",
            "src/background-media/8233938-uhd_2160_4096_25fps.mp4",
            "src/background-media/8552822-hd_1080_1920_30fps.mp4",
            "src/background-media/8859853-uhd_2160_3840_25fps.mp4",
            "src/background-media/9008422-hd_1080_1920_30fps.mp4",
            "src/background-media/9947052-hd_1080_1920_30fps.mp4",
            "src/background-media/10110917-uhd_2160_3840_30fps.mp4",
            "src/background-media/10494882-uhd_2160_4096_25fps.mp4",
            "src/background-media/13709224-hd_1080_1920_30fps.mp4",
            "src/background-media/14066876-hd_806_1440_30fps.mp4",
            "src/background-media/14131305-uhd_2160_3840_60fps.mp4",
            "src/background-media/14172337_2160_3840_30fps.mp4",
            "src/background-media/14178839_2160_3840_30fp.mp4",
            "src/background-media/15238832-hd_1080_1920_30fps.mp4",
            "src/background-media/15285981-uhd_1440_2560_30fps.mp4",
          ];

          this.shuffledVideos = [...this.videos];
          this.currentIndex = 0;
          this.videoElement = document.getElementById("backgroundVideo");
          this.preloadElement = null; // 預載影片元素

          this.fisherYatesShuffle();
          this.initializeVideo();
        }

        // Fisher-Yates 洗牌演算法實現
        fisherYatesShuffle() {
          const array = this.shuffledVideos;

          for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
          }
        }

        // 初始化影片播放器
        initializeVideo() {
          if (!this.videoElement) {
            console.error("找不到影片元素");
            return;
          }

          // 設定第一個影片
          this.loadVideo(this.shuffledVideos[this.currentIndex]);

          // 監聽影片載入事件 - 簡化版本
          this.videoElement.addEventListener("loadeddata", () => {
            // 影片資料載入完成，立即顯示
            this.videoElement.classList.add("loaded");
            document.body.classList.add("video-loaded");
          });

          this.videoElement.addEventListener("canplay", () => {
            // 確認影片已準備好可播放
            this.videoElement.play().catch((e) => {});
          });

          this.videoElement.addEventListener("playing", () => {
            // 預載下一個影片
            this.preloadNextVideo();
          });

          // 監聽影片結束事件
          this.videoElement.addEventListener("ended", () => {
            this.playNextVideo();
          });

          // 監聽影片載入錯誤
          this.videoElement.addEventListener("error", (e) => {
            console.error(
              "影片載入失敗:",
              this.shuffledVideos[this.currentIndex],
              e
            );
            this.playNextVideo();
          });

          // 強制顯示影片元素
          this.videoElement.style.display = "block";
          this.videoElement.style.visibility = "visible";
        }

        // 載入指定影片 - 優化版本，減少卡頓
        loadVideo(videoPath) {
          try {
            // 檢查檔案路徑
            if (!videoPath || videoPath.trim() === "") {
              console.error("影片路徑為空");
              return;
            }

            // 立即設定影片來源，不需要重置載入狀態
            this.videoElement.crossOrigin = "anonymous";
            this.videoElement.preload = "auto"; // 改為自動預載以減少卡頓
            this.videoElement.muted = true; // 確保靜音以避免自動播放限制

            // 直接設定影片來源
            this.videoElement.src = videoPath;

            // 使用 Range Requests 優化載入
            this.optimizeVideoLoading();

            this.videoElement.load();

            // 確保容器存在
            const container = document.querySelector(
              ".background-video-container"
            );
            if (container) {
              container.style.display = "block";
            }
          } catch (error) {
            console.error("載入影片時發生錯誤", error);
            this.playNextVideo();
          }
        }

        // HTTP Range Requests 優化載入策略
        optimizeVideoLoading() {
          // 檢測網路連線速度並調整載入策略
          if ("connection" in navigator) {
            const connection =
              navigator.connection ||
              navigator.mozConnection ||
              navigator.webkitConnection;
            if (connection) {
              // 根據網路速度調整載入策略 - 更積極的預載
              switch (connection.effectiveType) {
                case "slow-2g":
                case "2g":
                  this.videoElement.preload = "metadata";
                  break;
                case "3g":
                  this.videoElement.preload = "auto";
                  break;
                case "4g":
                default:
                  this.videoElement.preload = "auto";
                  break;
              }
            }
          }

          // 設定 HTTP Headers 支援 Range Requests
          const video = this.videoElement;

          // 優化載入速度，實現分段載入
          video.addEventListener("progress", () => {
            if (video.buffered.length > 0) {
              const bufferedEnd = video.buffered.end(video.buffered.length - 1);
              const duration = video.duration;
              if (duration > 0) {
                const percent = (bufferedEnd / duration) * 100;

                // 如果有足夠內容就就開始播放和載入進度通知
                if (percent > 25 && !video.classList.contains("loaded")) {
                  video.classList.add("loaded");
                  document.body.classList.add("video-loaded");
                }
              }
            }
          });

          // 確保載入完成
          video.addEventListener("loadedmetadata", () => {
            // 載入前幾秒內容以快速開始播放
            video.currentTime = 0;
          });
        }

        // 播放下一個影片
        playNextVideo() {
          this.currentIndex =
            (this.currentIndex + 1) % this.shuffledVideos.length;

          // 如果播放完所有影片就重新洗牌
          if (this.currentIndex === 0) {
            this.fisherYatesShuffle();
          }

          this.loadVideo(this.shuffledVideos[this.currentIndex]);
        }

        // 預載下一個影片
        skipToNext() {
          this.playNextVideo();
        }

        // 重新洗牌影片列表
        reshuffleVideos() {
          this.fisherYatesShuffle();
          this.currentIndex = 0;
          this.loadVideo(this.shuffledVideos[this.currentIndex]);
        }

        // 預載下一個影片 - 優化版本
        preloadNextVideo() {
          const nextIndex =
            (this.currentIndex + 1) % this.shuffledVideos.length;
          const nextVideoPath = this.shuffledVideos[nextIndex];

          // 如果已有預載元素，清理掉
          if (this.preloadElement) {
            this.preloadElement.remove();
          }

          // 創建新的預載元素
          this.preloadElement = document.createElement("video");
          this.preloadElement.src = nextVideoPath;
          this.preloadElement.preload = "auto";
          this.preloadElement.muted = true;
          this.preloadElement.style.display = "none";
          this.preloadElement.style.position = "absolute";
          this.preloadElement.style.visibility = "hidden";

          // 立即開始載入但不播放
          this.preloadElement.load();

          document.body.appendChild(this.preloadElement);
        }
      }

      // 全域變數
      let currentLang = localStorage.getItem("language") || "zh";
      let currentStyleMode = localStorage.getItem("styleMode") || "normal";
      let videoManager;

      // 60 種隨機樣式配色
      const randomStyles = [
        // 30 種純色
        "style-pure-red",
        "style-pure-pink",
        "style-pure-purple",
        "style-pure-indigo",
        "style-pure-blue",
        "style-pure-cyan",
        "style-pure-teal",
        "style-pure-green",
        "style-pure-lime",
        "style-pure-yellow",
        "style-pure-orange",
        "style-pure-amber",
        "style-pure-rose",
        "style-pure-violet",
        "style-pure-sky",
        "style-pure-emerald",
        "style-pure-slate",
        "style-pure-gray",
        "style-pure-zinc",
        "style-pure-neutral",
        "style-pure-stone",
        "style-pure-warmgray",
        "style-pure-coolgray",
        "style-pure-bluegray",
        "style-pure-fuchsia",
        "style-pure-gold",
        "style-pure-silver",
        "style-pure-bronze",
        "style-pure-coral",
        "style-pure-turquoise",

        // 30 種混合漸層效果
        "style-gradient-sunset",
        "style-gradient-ocean",
        "style-gradient-forest",
        "style-gradient-fire",
        "style-gradient-royal",
        "style-gradient-aurora",
        "style-gradient-cosmic",
        "style-gradient-neon",
        "style-gradient-rainbow",
        "style-gradient-dream",
        "style-breathe-red",
        "style-breathe-blue",
        "style-breathe-green",
        "style-breathe-purple",
        "style-breathe-pink",
        "style-glow-cyan",
        "style-glow-yellow",
        "style-glow-orange",
        "style-glow-violet",
        "style-glow-emerald",
        "style-flash-rainbow",
        "style-flash-neon",
        "style-flash-disco",
        "style-flash-strobe",
        "style-flash-pulse",
        "style-wave-ocean",
        "style-wave-fire",
        "style-wave-aurora",
        "style-wave-cosmic",
        "style-wave-dream",
      ];

      // 多語言內容
      const translations = {
        zh: {
          profileName: "Ken",
          profileBio:
            "歡迎來到我的個人連結頁面！<br />在這裡可以找到我所有社群媒體的重要連結，包括技術項目、社交平台和聯絡方式！",
          styleText: "隨機樣式",
          langText: "English",
          refreshText: "重新整理",
          githubText: "GitHub",
          linkedinText: "LinkedIn",
          twitterText: "Twitter",
          instagramText: "Instagram",
          emailText: "電子信件",
          websiteText: "個人網站",
          blogText: "部落格",
          youtubeText: "YouTube",
          privacyText: "隱私政策",
          termsText: "使用條款",
          cookiesText: "Cookie 政策",
          poweredText: "Powered by Ken",
          copyrightText: "© 2025 Ken. 版權所有",
          shareModalTitle: "分享此頁面",
          copyLinkText: "複製???",
          emailShareText: "電子信件",
          linkCopied: "連結已複製到剪貼簿！",
          copyFailed: "複製失敗，請手動複製",
          sharedSuccess: "分享成功！",
        },
        en: {
          profileName: "Ken",
          profileBio:
            "Welcome to my personal link page!<br />Find all my social media and important links here.",
          styleText: "Random Style",
          langText: "中文",
          refreshText: "Refresh",
          githubText: "GitHub",
          linkedinText: "LinkedIn",
          twitterText: "Twitter",
          instagramText: "Instagram",
          emailText: "Email",
          websiteText: "Website",
          blogText: "Blog",
          youtubeText: "YouTube",
          privacyText: "Privacy Policy",
          termsText: "Terms of Service",
          cookiesText: "Cookie Policy",
          poweredText: "Powered by Ken",
          copyrightText: "© 2024 Ken. All rights reserved.",
          shareModalTitle: "Share this page",
          copyLinkText: "Copy Link",
          emailShareText: "Email",
          linkCopied: "Link copied to clipboard!",
          copyFailed: "Copy failed, please copy manually",
          sharedSuccess: "Shared successfully!",
        },
      };

      // 初始化函數 - 簡化版本，移除白霧效果
      function initializePage() {
        // 設定語言
        updateLanguage();

        // 設定隨機樣式模式
        updateStyleMode();

        // 初始化背景影片管理器
        videoManager = new VideoBackgroundManager();

        // 立即顯示頁面內容，無需等待
        document.body.classList.add("video-loaded");

        // 添加點擊事件來確保影片播放支援手動播放控制
        document.addEventListener("click", function enableVideoOnFirstClick() {
          if (videoManager && videoManager.videoElement) {
            videoManager.videoElement
              .play()
              .then(() => {})
              .catch((e) => {});
            // 移除事件監聽器，確保只執行一次
            document.removeEventListener("click", enableVideoOnFirstClick);
          }
        });
      }

      // 切換隨機樣式模式
      function toggleRandomStyle() {
        if (currentStyleMode === "normal") {
          currentStyleMode = "random";
          applyRandomStyles();
        } else {
          currentStyleMode = "normal";
          clearRandomStyles();
        }
        localStorage.setItem("styleMode", currentStyleMode);
        updateStyleIcon();
      }

      // 套用隨機樣式
      function applyRandomStyles() {
        // 為每個按鈕套用隨機樣式和動畫
        const buttons = document.querySelectorAll(".link-btn");
        buttons.forEach((button) => {
          const randomStyle =
            randomStyles[Math.floor(Math.random() * randomStyles.length)];

          // 隨機眩光效果
          const glowClasses = [
            "glow-random-1",
            "glow-random-2",
            "glow-random-3",
            "glow-random-4",
            "glow-random-5",
            "glow-random-6",
            "glow-random-7",
            "glow-random-8",
            "glow-random-9",
            "glow-random-10",
          ];
          const randomGlow =
            glowClasses[Math.floor(Math.random() * glowClasses.length)];

          // Animate.css 動畫效果
          const animateClasses = [
            "animate__animated animate__bounce",
            "animate__animated animate__flash",
            "animate__animated animate__pulse",
            "animate__animated animate__rubberBand",
            "animate__animated animate__shake",
            "animate__animated animate__headShake",
            "animate__animated animate__swing",
            "animate__animated animate__tada",
            "animate__animated animate__wobble",
            "animate__animated animate__jello",
            "animate__animated animate__heartBeat",
            "animate__animated animate__flip",
            "animate__animated animate__backInUp",
            "animate__animated animate__backInDown",
            "animate__animated animate__bounceIn",
            "animate__animated animate__bounceInDown",
            "animate__animated animate__bounceInUp",
            "animate__animated animate__fadeIn",
            "animate__animated animate__fadeInDown",
            "animate__animated animate__fadeInUp",
            "animate__animated animate__rotateIn",
            "animate__animated animate__slideInUp",
            "animate__animated animate__slideInDown",
            "animate__animated animate__zoomIn",
            "animate__animated animate__lightSpeedInRight",
            "animate__animated animate__lightSpeedInLeft",
          ];

          const randomAnimation =
            animateClasses[Math.floor(Math.random() * animateClasses.length)];

          // 隨機動畫持續時間
          const durations = [
            "animate__slow",
            "animate__slower",
            "animate__fast",
            "animate__faster",
          ];
          const randomDuration =
            durations[Math.floor(Math.random() * durations.length)];

          // 隨機無限循環機率
          const infiniteChance = Math.random() > 0.5 ? "animate__infinite" : "";

          button.className =
            button.className.replace(
              /style-[\w-]+|glow-random-\d+|animate__\S+/g,
              ""
            ) +
            ` ${randomStyle} ${randomGlow} ${randomAnimation} ${randomDuration} ${infiniteChance} crazy-animation`;

          // 隨機位置微調
          const randomX = (Math.random() - 0.5) * 10; // -5px 到 5px
          const randomY = (Math.random() - 0.5) * 10; // -5px 到 5px
          button.style.transform = `translate(${randomX}px, ${randomY}px)`;
        });

        // 為控制按鈕套用隨機樣式和動畫
        const controlBtns = document.querySelectorAll(".share-btn, .menu-btn");
        controlBtns.forEach((btn) => {
          const randomStyle =
            randomStyles[Math.floor(Math.random() * randomStyles.length)];

          // 隨機眩光效果選擇
          const glowClasses = [
            "glow-random-1",
            "glow-random-2",
            "glow-random-3",
            "glow-random-4",
            "glow-random-5",
            "glow-random-6",
            "glow-random-7",
            "glow-random-8",
            "glow-random-9",
            "glow-random-10",
          ];
          const randomGlow =
            glowClasses[Math.floor(Math.random() * glowClasses.length)];

          // 瘋狂 Animate.css 效果
          const shakeAnimations = [
            "animate__animated animate__shake animate__infinite animate__faster",
            "animate__animated animate__headShake animate__infinite animate__slow",
            "animate__animated animate__wobble animate__infinite animate__slower",
            "animate__animated animate__jello animate__infinite animate__fast",
            "animate__animated animate__bounce animate__infinite animate__slower",
            "animate__animated animate__pulse animate__infinite animate__fast",
            "animate__animated animate__rubberBand animate__infinite animate__slower",
            "animate__animated animate__swing animate__infinite animate__slow",
            "animate__animated animate__tada animate__infinite animate__faster",
            "animate__animated animate__heartBeat animate__infinite animate__fast",
          ];

          const randomShake =
            shakeAnimations[Math.floor(Math.random() * shakeAnimations.length)];

          btn.className =
            btn.className.replace(
              /style-[\w-]+|glow-random-\d+|animate__\S+/g,
              ""
            ) + ` ${randomStyle} ${randomGlow} ${randomShake} crazy-animation`;

          // 隨機位置微調
          const randomX = (Math.random() - 0.5) * 8; // -4px 到 4px
          const randomY = (Math.random() - 0.5) * 8; // -4px 到 4px
          btn.style.transform = `translate(${randomX}px, ${randomY}px)`;
        });

        // 為文字元素添加隨機色彩和動畫
        document.body.classList.add("random-style-active");

        const textElements = [
          ".profile-name",
          ".profile-bio",
          ".social-icon",
          ".footer-link",
          ".footer-brand",
          ".footer-copyright",
        ];

        textElements.forEach((selector) => {
          const elements = document.querySelectorAll(selector);
          elements.forEach((element) => {
            const colors = [
              "#ff6b6b",
              "#4ecdc4",
              "#45b7d1",
              "#96ceb4",
              "#ffeaa7",
              "#dda0dd",
              "#98d8c8",
              "#f7dc6f",
              "#bb8fce",
              "#85c1e9",
              "#f8c471",
              "#82e0aa",
              "#f1948a",
              "#85c1e9",
              "#f8c471",
              "#ff0080",
              "#00ff80",
              "#8000ff",
              "#ff8000",
              "#0080ff",
              "#ff4080",
              "#80ff40",
              "#4080ff",
              "#ff8040",
              "#40ff80",
              "#ff0040",
              "#40ff00",
              "#0040ff",
              "#ff4000",
              "#00ff40",
            ];
            const randomColor =
              colors[Math.floor(Math.random() * colors.length)];
            element.style.color = randomColor;

            // 為文字添加隨機色彩和動畫
            const textAnimations = [
              "animate__animated animate__pulse animate__infinite animate__slower",
              "animate__animated animate__flash animate__infinite animate__slow",
              "animate__animated animate__bounce animate__infinite animate__slower",
              "animate__animated animate__rubberBand animate__infinite animate__slow",
              "animate__animated animate__wobble animate__infinite animate__slower",
            ];
            const randomTextAnimation =
              textAnimations[Math.floor(Math.random() * textAnimations.length)];
            element.className =
              element.className.replace(/animate__\S+/g, "") +
              ` ${randomTextAnimation}`;
          });
        });
      }

      // 清除隨機樣式
      function clearRandomStyles() {
        // 清除按鈕樣式
        const allButtons = document.querySelectorAll(
          ".link-btn, .share-btn, .menu-btn"
        );
        allButtons.forEach((button) => {
          // 移除所有樣式、眩光和動畫類別
          button.className = button.className.replace(
            /style-[\w-]+|glow-random-\d+|animate__\S+|crazy-animation/g,
            ""
          );
          // 清除所有內聯樣式
          button.style.removeProperty("background");
          button.style.removeProperty("color");
          button.style.removeProperty("animation");
          button.style.removeProperty("box-shadow");
          button.style.removeProperty("transform");
          button.style.removeProperty("border");
          button.style.removeProperty("filter");
          button.style.removeProperty("text-shadow");

          // 完全重置 transform，確保位置恢復正常
          button.style.transform = "";
        });

        // 清除文字元素樣式
        document.body.classList.remove("random-style-active");
        const textElements = document.querySelectorAll(
          ".profile-name, .profile-bio, .social-icon, .footer-link, .footer-brand, .footer-copyright"
        );
        textElements.forEach((element) => {
          element.className = element.className.replace(/animate__\S+/g, "");
          element.style.removeProperty("color");
          element.style.removeProperty("animation");
          element.style.removeProperty("text-shadow");
          element.style.removeProperty("filter");
        });

        // 清除所有可能殘留的動畫樣式
        const allElements = document.querySelectorAll("*");
        allElements.forEach((element) => {
          if (
            element.style.transform &&
            element.style.transform.includes("translate")
          ) {
            element.style.transform = element.style.transform.replace(
              /translate\([^)]*\)/g,
              ""
            );
          }
        });
      }

      // 更新樣式圖示顯示
      function updateStyleIcon() {
        const styleIcon = document.getElementById("styleIcon");
        const styleText = document.getElementById("styleText");

        if (currentStyleMode === "random") {
          styleIcon.className = "fas fa-magic";
          styleText.textContent =
            currentLang === "zh" ? "普通樣式" : "Normal Style";
        } else {
          styleIcon.className = "fas fa-palette";
          styleText.textContent =
            currentLang === "zh" ? "隨機樣式" : "Random Style";
        }
      }

      // 更新樣式模式
      function updateStyleMode() {
        if (currentStyleMode === "random") {
          applyRandomStyles();
          // 每3秒自動更新一次隨機樣式
          setInterval(() => {
            if (currentStyleMode === "random") {
              applyRandomStyles();
            }
          }, 3000);
        }
        updateStyleIcon();
      }

      // 切換語言
      function toggleLanguage() {
        currentLang = currentLang === "zh" ? "en" : "zh";
        localStorage.setItem("language", currentLang);
        updateLanguage();
        updateStyleIcon();
      }

      // 更新語言內容
      function updateLanguage() {
        const texts = translations[currentLang];

        Object.keys(texts).forEach((key) => {
          const element = document.getElementById(key);
          if (element) {
            if (key === "profileBio") {
              element.innerHTML = texts[key];
            } else {
              element.textContent = texts[key];
            }
          }
        });
      }

      // 顯示分享模態框
      function showShareModal() {
        document.getElementById("shareModal").showModal();
      }

      // 分享功能
      function shareVia(platform) {
        const url = window.location.href;
        const title = "來看看Ken的個人連結頁面！";

        try {
          switch (platform) {
            case "facebook":
              window.open(
                `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(
                  url
                )}`,
                "_blank"
              );
              break;
            case "twitter":
              window.open(
                `https://twitter.com/intent/tweet?url=${encodeURIComponent(
                  url
                )}&text=${encodeURIComponent(title)}`,
                "_blank"
              );
              break;
            case "linkedin":
              window.open(
                `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(
                  url
                )}`,
                "_blank"
              );
              break;
            case "whatsapp":
              window.open(
                `https://wa.me/?text=${encodeURIComponent(title + " " + url)}`,
                "_blank"
              );
              break;
            case "telegram":
              window.open(
                `https://t.me/share/url?url=${encodeURIComponent(
                  url
                )}&text=${encodeURIComponent(title)}`,
                "_blank"
              );
              break;
            case "line":
              window.open(
                `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(
                  url
                )}`,
                "_blank"
              );
              break;
            case "email":
              window.open(
                `mailto:?subject=${encodeURIComponent(
                  title
                )}&body=${encodeURIComponent(title + "\n\n" + url)}`,
                "_blank"
              );
              break;
            case "copy":
              copyToClipboard(url);
              return;
          }
          document.getElementById("shareModal").close();
        } catch (error) {
          console.error("分享失敗:", error);
        }
      }

      // 複製到剪貼簿
      async function copyToClipboard(text) {
        try {
          if (navigator.clipboard && window.isSecureContext) {
            await navigator.clipboard.writeText(text);
          } else {
            // 備用方式
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.left = "-999999px";
            textArea.style.top = "-999999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
              document.execCommand("copy");
            } catch (err) {
              console.error("複製失敗，請手動複製");
            }

            document.body.removeChild(textArea);
          }
          document.getElementById("shareModal").close();
        } catch (error) {
          console.error("複製失敗:", error);
        }
      }

      // 鍵盤快捷鍵
      document.addEventListener("keydown", function (e) {
        // Ctrl/Cmd + K 開啟分享
        if ((e.ctrlKey || e.metaKey) && e.key === "k") {
          e.preventDefault();
          showShareModal();
        }

        // Ctrl/Cmd + D 切換隨機樣式
        if ((e.ctrlKey || e.metaKey) && e.key === "d") {
          e.preventDefault();
          toggleRandomStyle();
        }

        // Ctrl/Cmd + L 切換語言
        if ((e.ctrlKey || e.metaKey) && e.key === "l") {
          e.preventDefault();
          toggleLanguage();
        }

        // 空白鍵切換影片
        if (e.key === " " && e.target === document.body) {
          e.preventDefault();
          if (videoManager) {
            videoManager.skipToNext();
          }
        }
      });

      // 禁止右鍵選單（可選）
      // document.addEventListener('contextmenu', e => e.preventDefault());

      // 頁面載入完成後初始化
      document.addEventListener("DOMContentLoaded", initializePage);

      // 視窗大小改變時重新調整影片尺寸
      window.addEventListener("resize", function () {
        if (videoManager && videoManager.videoElement) {
          // 觸發重新計算影片尺寸
          videoManager.videoElement.style.minWidth = "100%";
          videoManager.videoElement.style.minHeight = "100%";
        }
      });

      // 頁面可見性改變事件監聽
      document.addEventListener("visibilitychange", function () {
        if (videoManager && videoManager.videoElement) {
          if (document.hidden) {
            videoManager.videoElement.pause();
          } else {
            videoManager.videoElement.play().catch((e) => {});
          }
        }
      });

      // 下雨系統
      let rainMode = "off"; // 'off', 'normal', 'icons'
      let rainContainer = null;
      let rainInterval = null;

      // 50種隨機圖示
      const rainIcons = [
        "❤️",
        "⭐",
        "🌟",
        "✨",
        "💫",
        "🌈",
        "🦄",
        "🍀",
        "🌸",
        "🌺",
        "🌻",
        "🌷",
        "🌹",
        "🌴",
        "🎄",
        "🍁",
        "🍃",
        "🌿",
        "☘️",
        "🍄",
        "🎃",
        "🎅",
        "🎁",
        "🎂",
        "🎉",
        "🎊",
        "🎈",
        "🎀",
        "💝",
        "💖",
        "💕",
        "💘",
        "💗",
        "💓",
        "💌",
        "💎",
        "👑",
        "🏆",
        "🎯",
        "🎲",
        "🎪",
        "🎭",
        "🎨",
        "🎵",
        "🎶",
        "🎸",
        "🎤",
        "🎧",
        "📱",
        "💻",
      ];

      function toggleRainSelector() {
        const selector = document.getElementById("rainModeSelector");
        selector.classList.toggle("show");
      }

      function setRainMode(mode) {
        rainMode = mode;
        const selector = document.getElementById("rainModeSelector");
        const rainBtn = document.querySelector(".rain-btn");

        // 更新UI狀態
        document.querySelectorAll(".rain-mode-item").forEach((item) => {
          item.classList.remove("active");
        });
        document.getElementById(`rain-${mode}`).classList.add("active");
        selector.classList.remove("show");

        // 停止當前下雨
        if (rainInterval) {
          clearInterval(rainInterval);
          rainInterval = null;
        }
        if (rainContainer) {
          rainContainer.remove();
          rainContainer = null;
        }

        // 更新按鈕狀態
        if (mode === "off") {
          rainBtn.classList.remove("active");
        } else {
          rainBtn.classList.add("active");
          startRain(mode);
        }

        localStorage.setItem("rainMode", mode);
      }

      function startRain(mode) {
        // 創建下雨容器
        rainContainer = document.createElement("div");
        rainContainer.className = "rain-container";
        document.body.appendChild(rainContainer);

        // 根據模式創建雨滴
        rainInterval = setInterval(
          () => {
            createRaindrop(mode);
          },
          mode === "normal" ? 50 : 100
        ); // 普通雨滴更密集
      }

      function createRaindrop(mode) {
        const drop = document.createElement("div");

        if (mode === "normal") {
          drop.className = "raindrop";
          drop.style.height = Math.random() * 50 + 20 + "px";
        } else {
          drop.className = "rain-icon";
          drop.textContent =
            rainIcons[Math.floor(Math.random() * rainIcons.length)];
          drop.style.fontSize = Math.random() * 10 + 12 + "px";
        }

        // 隨機位置
        drop.style.left = Math.random() * 100 + "%";

        // 隨機速度
        const duration = Math.random() * 3 + 2; // 2-5秒
        drop.style.animationDuration = duration + "s";

        rainContainer.appendChild(drop);

        // 動畫完成後移除元素
        setTimeout(() => {
          if (drop.parentNode) {
            drop.parentNode.removeChild(drop);
          }
        }, duration * 1000);
      }

      // 點擊外部關閉選擇器
      document.addEventListener("click", (e) => {
        if (
          !e.target.closest(".rain-btn") &&
          !e.target.closest(".rain-mode-selector")
        ) {
          const selector = document.getElementById("rainModeSelector");
          selector.classList.remove("show");
        }
      });

      // 載入保存的下雨模式
      window.addEventListener("load", () => {
        const savedRainMode = localStorage.getItem("rainMode");
        if (savedRainMode && savedRainMode !== "off") {
          setRainMode(savedRainMode);
        }
      });
    </script>
  </body>
</html>
